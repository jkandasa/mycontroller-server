---
name: abc task
enabled: true
ignoreDuplicate: true
autoDisable: false
variables:
  variableA: sf:gateway1.node1.sensor1.field1.payload.value
  variableB: gw:gateway1.status
  variableC: nd:gateway1.node1.others
  variableD: sf:gateway1.node1.sensor1.field2
  variableE: tp:{{ now.Format "2006-01-02" }} # go lang template
dampening:
  type: none
triggerOnEvent: false
eventFilter:
  selectors:
    id: abc
    labels.abc: xyz
    name: Hello world
  topics:
    - gateway
    - node
    - sensor
    - sensor_field/set
    - sensor_field/request
executionInterval: 1m
remoteCall: false
remoteCallConfig: {}
rule:
  matchAll: false
  conditions:
    - { variable: variableA, operation: gt, value: 10 }
    - { variable: variableB, operation: le, value: 10 }
    - { variable: variableC, operation: eq, value: 10 }
    - { variable: variableC.threshold, operation: in, value: [10,20,30,40] }
    - { variable: variableA, operation: rangeIn, value: [10,90] }
    - { variable: variableC.battery, operation: rangeNotIn, value: [10,90] }
    - { variable: variableD.payload.value, operation: eq, value: true }
    - { variable: variableD.noChangeSince, operation: before, value: 10m }
notify:
  - handlerA
  - handlerB
  - handlerC
  - handlerD
state:
  lastEvaluation: TIME_STAMP
  lastSuccess: TIME_STAMP
  message: message
# references:
# https://taskfile.dev/
# https://github.com/go-task/task
# https://github.com/ovh/utask
